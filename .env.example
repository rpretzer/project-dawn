# Project Dawn - Example Environment
# Copy to .env and adjust for your deployment.
#
# IMPORTANT:
# - Do not commit real secrets (JWT_SECRET, API keys).
# - In production, set DAWN_ENV=prod and configure allowed origins.

# ----------------------------
# Runtime mode
# ----------------------------
DAWN_ENV=dev

# ----------------------------
# Realtime server
# ----------------------------
CHAT_HOST=0.0.0.0
CHAT_PORT=8000
CHAT_ALLOWED_ORIGINS=http://localhost:8000
CHAT_ALLOW_GUESTS=true
CHAT_ADMIN_USERNAMES=admin

# Cookie / session
JWT_SECRET=change-me-in-prod
JWT_TTL_SECONDS=86400
# Lax is ok for dev; consider Strict in prod.
CHAT_COOKIE_SAMESITE=Lax

# Rate limits
CHAT_MAX_MSGS_PER_10S_HUMAN=12
CHAT_MAX_MSGS_PER_10S_GUEST=6
CHAT_MAX_AUTH_PER_MINUTE=10

# ----------------------------
# Agent workspace + tools
# ----------------------------
DAWN_WORKSPACE_ROOT=/workspace

# Allow agents to APPLY patches directly? (recommended: false)
DAWN_ALLOW_AGENT_PATCH_APPLY=false

# Allow patch paths (unified diffs) for fs_apply_patch checks
DAWN_PATCH_PREFIXES=core/,interface/,systems/,plugins/,tests/,README.md,ROADMAP.md,requirements.txt,artifacts/

# Allow UI artifact reads + patch apply
CHAT_FILE_READ_PREFIXES=artifacts/
CHAT_PATCH_APPLY_PREFIXES=artifacts/

# Read-only git diff in UI (admin panel)
CHAT_GIT_DIFF_PREFIXES=artifacts/

# Safe HTTP allowlist for http_get/http_get_json
DAWN_HTTP_ALLOWED_HOSTS=raw.githubusercontent.com,api.github.com

# ----------------------------
# Auto-evolution (optional)
# ----------------------------
AUTO_EVOLUTION=false
AUTO_EVOLUTION_INTERVAL_SECONDS=60
AUTO_EVOLUTION_MIN_TASKS_TO_START=5
AUTO_EVOLUTION_MIN_TASKS_AFTER=5
AUTO_EVOLUTION_REGRESSION_THRESHOLD=0.08

# ----------------------------
# LLM provider (example)
# ----------------------------
LLM_PROVIDER=ollama
OLLAMA_URL=http://host.docker.internal:11434
OLLAMA_MODEL=llama3

